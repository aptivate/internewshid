{% extends "base_side.html" %}
{% load i18n %}
{% load bootstrap3 %}
{% load render_table from django_tables2 %}

{% block maincontent %}
<ul class="nav nav-pills navbar-right nav-hanging-tabs">
    <li class="active"><a href="#home" data-toggle="tab">All</a></li>
    <li><a href="#profile" data-toggle="tab">Questions</a></li>
    <li><a href="#profile" data-toggle="tab">Rumors</a></li>
    
</ul>
<h1 class="page-header"><span class="fa fa-pencil fa-fw"></span>{% trans "View &amp; Edit" %}</h1>
 <div class='row'>
 	<div class="col-lg-12">
 		<form action="{% url "data-view-process" %}" method="post" class="view-items-form">{% csrf_token %}
	 		<div class="panel panel-default">
	 			<div class="panel-heading">
		            <span class="fa fa-table fa-fw"></span> Questions
		            <div class="pull-right">
		                <div class="btn-group">
		                    {% bootstrap_button "Save Changes" button_type="submit" value="Update" button_class="btn btn-success btn-sm table-submit" %}
		                </div>
		            </div>
		        </div>
		        <div class="panel-body">
		        	{% with pagination_class="pagination-circle-nav" %}
				    {% render_table table %}
				    {% endwith %}
				
				</div>   
			    <div class="panel-footer clearfix">
		               	{% bootstrap_button "Save Changes" button_type="submit" value="Update" button_class="btn btn-success pull-right btn-sm table-submit" %}
		         
	            </div>
		        </div>
			
		</form>
	</div>
</div>

{% endblock maincontent %}

{% block lastjs %}
<script type="text/javascript">
(function ($) {
    var selectors = {
        td_input : '.view-items-form td.delete > input',
        th_delete : '.view-items-form th.delete'
    };

    function addCheckbox(selector, check_id) {
        var check = $('<input>', {
                type: 'checkbox',
                id: check_id
            }),
            label = $('<label>', {
                for: check_id
            });

        label.html(
            $(selector).html()
        );

        $(selector).html("")
                   .append(check)
                   .append(label);
    }

    function toggleSelection(e) {
        var checked = $(e.target).prop("checked");
        $(selectors.td_input).prop("checked", checked);
    }

    function setSelectAll(e) {
        var checked = $(selectors.td_input + ':checked').length,
            all = $(selectors.td_input).length,
            checked_all = all === checked;

        $(selectors.th_delete + ' input').prop("checked", checked_all);
    }

    function init() {
        addCheckbox(selectors.th_delete, 'select-all-items');

        $(selectors.th_delete + ' input').on('change', toggleSelection);
        $(selectors.td_input).on('change', setSelectAll);
    }

    init();
})(jQuery);
</script>
{% endblock lastjs %}
